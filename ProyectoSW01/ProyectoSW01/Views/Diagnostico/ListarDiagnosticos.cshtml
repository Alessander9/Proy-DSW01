@model IEnumerable<ProyectoSW01.Models.Diagnostico>

@{
    ViewData["Title"] = "Listar Diagnósticos";
}

<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Material Icons -->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />

<div class="max-w-6xl mx-auto px-4 py-8">

    <!-- TÍTULO -->
    <div class="flex items-center justify-between mb-6">
        <h1 class="text-3xl font-bold text-gray-800 flex items-center gap-2">
            <span class="material-icons text-blue-700">assignment</span>
            Lista de Diagnósticos
        </h1>

        <a asp-action="Create"
           class="inline-flex items-center px-4 py-2 bg-blue-700 text-white rounded-lg shadow hover:bg-blue-800 transition">
            <span class="material-icons text-sm mr-1">add</span>
            Nuevo Diagnóstico
        </a>
    </div>

    <!-- TABLA -->
    <div class="bg-white shadow rounded-xl overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200">

            <!-- CABECERA -->
            <thead class="bg-blue-700 text-white text-sm">
                <tr>
                    <th class="px-4 py-3 text-left font-semibold">ID</th>
                    <th class="px-4 py-3 text-left font-semibold">Vehículo</th>
                    <th class="px-4 py-3 text-left font-semibold">Mecánico</th>
                    <th class="px-4 py-3 text-left font-semibold">Estado</th>
                    <th class="px-4 py-3 text-left font-semibold">Fecha</th>
                    <th class="px-4 py-3 text-right font-semibold">Acciones</th>
                </tr>
            </thead>

            <!-- CUERPO -->
            <tbody class="divide-y divide-gray-200 text-sm">

                @foreach (var item in Model)
                {
                    <tr class="hover:bg-gray-50">

                        <!-- ID -->
                        <td class="px-4 py-3">@item.DiagnosticoId</td>

                        <!-- VEHÍCULO: PLACA + MODELO -->
                        <td class="px-4 py-3 font-semibold">
                            @item.Placa - @item.Modelo
                        </td>

                        <!-- MECÁNICO -->
                        <td class="px-4 py-3">
                            @item.MecanicoNombre
                        </td>

                        <!-- ESTADO -->
                        <td class="px-4 py-3 capitalize">
                            @item.Estado
                        </td>

                        <!-- FECHA -->
                        <td class="px-4 py-3">
                            @item.Fecha.ToString("dd/MM/yyyy HH:mm")
                        </td>

                        <!-- ACCIONES -->
                        <td class="px-4 py-3 text-right flex justify-end gap-2">

                            <a asp-action="Edit" asp-route-id="@item.DiagnosticoId"
                               class="text-yellow-600 hover:text-yellow-800 transition">
                                <span class="material-icons text-base">edit</span>
                            </a>

                            <a asp-action="Details" asp-route-id="@item.DiagnosticoId"
                               class="text-blue-600 hover:text-blue-800 transition">
                                <span class="material-icons text-base">visibility</span>
                            </a>

                            <a asp-action="Delete" asp-route-id="@item.DiagnosticoId"
                               class="text-red-600 hover:text-red-800 transition">
                                <span class="material-icons text-base">delete</span>
                            </a>

                        </td>

                    </tr>
                }

            </tbody>

        </table>
    </div>

</div>
